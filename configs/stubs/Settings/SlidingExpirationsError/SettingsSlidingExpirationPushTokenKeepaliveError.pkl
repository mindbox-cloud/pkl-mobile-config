import "../_SettingsBase.pkl" as base

output {
  renderer = new JsonRenderer {}
  value = base.settings.toMap()
    .mapValues((key, value) ->
      if (key == "ttl") value.toMap().mapValues((k, v) -> if (k == "inapps") "2.00:00:00" else v).toDynamic()
      else if (key == "slidingExpiration") value.toMap()
        .mapValues((k, v) -> if (k == "config") "2.00:00:00" else v)
        .mapKeys((k, _) -> if (k == "pushTokenKeepalive") "pushTokenKeepaliveTest" else k)
        .toDynamic()
      else value
    )
    .toDynamic()
}
