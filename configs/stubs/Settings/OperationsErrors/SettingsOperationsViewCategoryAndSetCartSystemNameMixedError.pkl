import "../_SettingsBase.pkl" as base

local newOps = base.settings.operations.toMap()
  .mapValues((key, value) ->
    if (key == "viewCategory") value.toMap().mapKeys((k, _) -> if (k == "systemName") "systemNameTest" else k).toDynamic()
    else if (key == "setCart") value.toMap().mapValues((k, v) -> if (k == "systemName") 123 else v).toDynamic()
    else value
  )
  .toDynamic()

output {
  renderer = new JsonRenderer {}
  value = base.settings.toMap()
    .mapValues((key, value) -> if (key == "operations") newOps else value)
    .toDynamic()
}
