/// Base InApp definition for use in InApp field error stubs.
/// Provides a valid InApp as Dynamic (validInApp) and Map (validInAppMap).
/// Prefixed with _ so generate.sh skips it.

local validInAppDynamic = new Dynamic {
  id = "test-valid-inapp-id"
  sdkVersion { min = 8; max = null }
  frequency { kind = "lifetime"; $type = "once" }
  targeting { nodes { new Dynamic { $type = "true" } }; $type = "and" }
  form {
    variants {
      new Dynamic {
        content {
          background {
            layers {
              new Dynamic {
                action { intentPayload = ""; value = ""; $type = "redirectUrl" }
                source { value = "https://example.com/image.png"; $type = "url" }
                $type = "image"
              }
            }
          }
          position {
            margin { kind = "dp"; top = 0; right = 0; left = 0; bottom = 0 }
            gravity { horizontal = "center"; vertical = "bottom" }
          }
          elements {
            new Dynamic {
              color = "#000000"; lineWidth = 1
              size { kind = "dp"; width = 30; height = 30 }
              position { margin { kind = "proportion"; top = 0.05; right = 0.025; left = 0; bottom = 0 } }
              $type = "closeButton"
            }
          }
        }
        imageUrl = ""; redirectUrl = ""; intentPayload = ""
        $type = "snackbar"
      }
    }
  }
}

validInApp: Dynamic = validInAppDynamic

validInAppMap: Map<String, unknown> = validInAppDynamic.toMap()
