output {
  renderer = new JsonRenderer { omitNullProperties = false }
}

inapps = new Listing {
  new Dynamic {
    id = "test-valid-inapp-id"
    sdkVersion { min = 8; max = null }
    frequency { kind = "lifetime"; $type = "once" }
    targeting { nodes { new Dynamic { $type = "true" } }; $type = "and" }
    form {
      variants {
        new Dynamic {
          content {
            background {
              layers = 1 // Int instead of array — cascades up → InApp skipped
            }
            position {
              margin { kind = "dp"; top = 0; right = 0; left = 0; bottom = 0 }
              gravity { horizontal = "center"; vertical = "bottom" }
            }
            elements {
              new Dynamic {
                color = "#000000"; lineWidth = 1
                size { kind = "dp"; width = 30; height = 30 }
                position { margin { kind = "proportion"; top = 0.05; right = 0.025; left = 0; bottom = 0 } }
                $type = "closeButton"
              }
            }
          }
          imageUrl = ""; redirectUrl = ""; intentPayload = ""
          $type = "snackbar"
        }
      }
    }
  }
}
