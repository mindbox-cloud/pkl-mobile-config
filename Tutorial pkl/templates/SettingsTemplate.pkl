open module Settings

typealias TimeSpan = String

class Operation {
  systemName: String
}

class Operations {
  viewProduct: Operation?
  viewCategory: Operation?
  setCart: Operation?
}

class TTL {
  inapps: TimeSpan = "1.00:00:00"
}

class SlidingExpiration {
  config: TimeSpan = "00:30:00"
  pushTokenKeepalive: TimeSpan = "14.00:00:00"
}

class InAppSettings {
  maxInappsPerSession: Int = 3
  maxInappsPerDay: Int = 50
  minIntervalBetweenShows: TimeSpan = "00:00:10"
}

class FeatureToggles {
  MobileSdkShouldSendInAppShowError: Boolean = false
}

class Settings {
  operations: Operations?
  ttl: TTL
  slidingExpiration: SlidingExpiration
  inapp: InAppSettings
  featureToggles: FeatureToggles
}

settings: Settings = new {
  operations {
    viewProduct {
      systemName = "viewProduct"
    }
    viewCategory {
      systemName = "viewCategory"
    }
    setCart {
      systemName = "setCart"
    }
  }
}